#!/usr/bin/env ruby

repo = '/Users/shep/Projects/jruby/.git'
start_date = '2012-11-01'
branch = 'master'

commits = %x{ git --git-dir=#{repo} rev-list --since=#{start_date} #{branch} }
commits = commits.split("\n")

files_by_commit = commits.map do |commit_hash|
  files = %x{ git --git-dir=#{repo} diff-tree --no-commit-id --name-only -r #{commit_hash} }
  files.split("\n")
end.reject(&:empty?)
